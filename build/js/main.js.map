{"version":3,"sources":["main.js"],"names":["Slider","domNode","delay","sliderContainer","querySelector","slides","querySelectorAll","buttonLeft","buttonRight","slidesCount","length","activeSlideIndex","moveLeft","bind","moveRight","setActiveSlide","addEventListener","setSlideShow","classList","add","remove","removeActiveSlide","setInterval","slider","document","Popup","button","popup","window","$","popupOverlay","closeButton","userNameInput","showPopup","hidePopup","closePopupEscPress","popupOverlayClickHandler","on","evt","key","target","currentTarget","fadeIn","focus","css","fadeOut","off","init"],"mappings":"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","file":"main.js","sourcesContent":["(function () {\n  'use strict';\n\n  class Slider {\n    constructor(domNode, delay) {\n      this.sliderContainer = domNode.querySelector(\".slider__container\");\n      this.slides = this.sliderContainer.querySelectorAll(\".slider__item\");\n      this.buttonLeft = domNode.querySelector(\".slider__btn--left\");\n      this.buttonRight = domNode.querySelector(\".slider__btn--right\");\n      this.slidesCount = this.slides.length;\n      this.activeSlideIndex = 0;\n      this.delay = delay;\n\n      this.moveLeft = this.moveLeft.bind(this);\n      this.moveRight = this.moveRight.bind(this);\n    }\n\n    init() {\n      this.setActiveSlide();\n      this.buttonLeft.addEventListener('click', this.moveLeft);\n      this.buttonRight.addEventListener('click', this.moveRight);\n      this.setSlideShow();\n    }\n\n    setActiveSlide() {\n      this.slides[this.activeSlideIndex].classList.add(\"slider__item--active\");\n    }\n\n    removeActiveSlide() {\n      this.slides[this.activeSlideIndex].classList.remove(\"slider__item--active\");\n    }\n\n    moveRight() {\n      if (this.activeSlideIndex === this.slidesCount - 1) {\n        this.removeActiveSlide();\n        this.activeSlideIndex = 0;\n        this.setActiveSlide();\n        return;\n      }\n\n      this.removeActiveSlide();\n      this.activeSlideIndex++;\n      this.setActiveSlide();\n    }\n\n    moveLeft() {\n      if (this.activeSlideIndex === 0) {\n        this.removeActiveSlide();\n        this.activeSlideIndex = this.slidesCount - 1;\n        this.setActiveSlide();\n        return;\n      }\n\n      this.removeActiveSlide();\n      this.activeSlideIndex--;\n      this.setActiveSlide();\n    }\n\n    setSlideShow() {\n      setInterval(this.moveRight, this.delay);\n    }\n  }\n\n  const slider = new Slider(document.querySelector('.slider'), 4000);\n\n  class Popup {\n    constructor(button) {\n      this.button = button;\n      this.popup = window.$('.popup');\n      this.popupOverlay = window.$('.popup__overlay');\n      this.closeButton = window.$('.popup__close-btn');\n      this.userNameInput = window.$('#user-name');\n\n      this.showPopup = this.showPopup.bind(this);\n      this.hidePopup = this.hidePopup.bind(this);\n      this.closePopupEscPress = this.closePopupEscPress.bind(this);\n      this.popupOverlayClickHandler = this.popupOverlayClickHandler.bind(this);\n    }\n\n    init() {\n      this.button.on('click', this.showPopup);\n    }\n\n    closePopupEscPress(evt) {\n      if (evt.key === `Escape`) {\n        this.hidePopup();\n      }\n    }\n\n    popupOverlayClickHandler(evt) {\n      if (evt.target === evt.currentTarget) {\n        this.hidePopup();\n      }\n    }\n\n    showPopup() {\n      this.popup.fadeIn(1000);\n      this.userNameInput.focus();\n      window.$('body').css('overflow', 'hidden');\n\n      window.$(document).on('keydown', this.closePopupEscPress);\n\n      this.popupOverlay.on('click', this.popupOverlayClickHandler);\n\n      this.closeButton.on('click', this.hidePopup);\n    }\n\n    hidePopup() {\n      this.popup.fadeOut(1000);\n      window.$('body').css('overflow', 'visible');\n      window.$(document).off('keydown', this.closePopupEscPress);\n    }\n  }\n\n  const popup = new Popup(window.$('.contacts__callback-btn'));\n\n  slider.init();\n  popup.init();\n\n}());\n"]}